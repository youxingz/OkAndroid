(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[617],{4721:function(e,i,a){"use strict";var t=a(4836);i.Z=void 0;var c=t(a(4938)),s=a(5893),n=(0,c.default)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");i.Z=n},1849:function(e,i,a){"use strict";var t=a(4836);i.Z=void 0;var c=t(a(4938)),s=a(5893),n=(0,c.default)((0,s.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");i.Z=n},7872:function(e,i,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/device_list",function(){return a(1271)}])},8953:function(e,i,a){"use strict";a.d(i,{Z:function(){return n}});var t=a(5893);a(7294);var c=a(3892),s=a.n(c);function n(e){let i=()=>{alert("Open Drawer")},a=()=>{history.back()};return(0,t.jsxs)("div",{className:s().appbar,children:[(0,t.jsxs)("div",{className:s().statusbar,children:[(0,t.jsxs)("div",{className:s().statusbar_left,children:[e.goBack&&(0,t.jsx)("div",{onClick:a,className:s().go_back_icon,children:(0,t.jsx)("img",{src:"/icon3/status_bar/status_bar_back.png"})}),(0,t.jsx)("div",{className:s().statusbar_left_title,style:e.goBack?{}:{paddingLeft:16},children:e.title})]}),(0,t.jsxs)("div",{className:s().icon_list,children:[e.icons||[],(0,t.jsx)("div",{children:"100%"})]})]}),(0,t.jsxs)("div",{className:s().titlebar,children:[(0,t.jsx)("div",{className:s().left,children:e.children}),(0,t.jsx)("div",{className:s().right,children:(0,t.jsx)("div",{className:s().menu,onClick:i,children:(0,t.jsx)("img",{src:"/icon3/status_bar/status_bar_drawer.png"})})})]})]})}},723:function(e,i,a){"use strict";var t=a(5893),c=a(7246),s=a.n(c);i.Z=e=>(0,t.jsxs)("footer",{className:s().footer,...e,style:e["large-space"]?{marginTop:64,marginBottom:48}:{},children:[(0,t.jsx)("a",{href:"https://roumai.org",target:"_blank",rel:"noopener noreferrer",children:"\xa9 2023 Roumai Med. All rights reserved."}),(0,t.jsx)("div",{children:e.children})]})},646:function(e,i,a){"use strict";var t=a(5893),c=a(7294),s=a(5469),n=a.n(s);let r=e=>{let i=!!e.selected;return(0,t.jsx)("div",{children:i?(0,t.jsx)("div",{className:n().icon,children:(0,t.jsx)("img",{src:e.icon_active})}):(0,t.jsx)("div",{className:n().icon,onClick:e.onClick,children:(0,t.jsx)("img",{src:e.icon_normal})})})};i.Z=e=>{let[i,a]=(0,c.useState)(1),s=i=>{e.onSelected&&e.onSelected(i)};return(0,t.jsx)("footer",{className:n().toolbar,...e,style:e["large-space"]?{marginTop:64,marginBottom:48}:{},children:(0,t.jsxs)("div",{className:n().tools,children:[(0,t.jsx)(r,{selected:1===i,onClick:e=>{a(1),s("device_list")},icon_active:"/icon3/navigation_bar/navigation_bar_note_selected.png",icon_normal:"/icon3/navigation_bar/navigation_bar_note_normal.png"}),(0,t.jsx)(r,{selected:2===i,onClick:e=>{a(2),s("record_list")},icon_active:"/icon3/navigation_bar/navigation_bar_device_selected.png",icon_normal:"/icon3/navigation_bar/navigation_bar_device_normal.png"}),(0,t.jsx)(r,{selected:3===i,onClick:e=>{a(3),s("dashboard")},icon_active:"/icon3/navigation_bar/navigation_bar_control_selected.png",icon_normal:"/icon3/navigation_bar/navigation_bar_control_normal.png"}),(0,t.jsx)(r,{selected:4===i,onClick:e=>{a(4),s("setting")},icon_active:"/icon3/navigation_bar/navigation_bar_setting_selected.png",icon_normal:"/icon3/navigation_bar/navigation_bar_setting_normal.png"})]})})}},7851:function(e,i,a){"use strict";a.d(i,{H:function(){return t},t:function(){return c}});let t=e=>fetch("/local-api/trigger",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}),c=()=>fetch("/local-api/search-device-start",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}})},1271:function(e,i,a){"use strict";a.r(i),a.d(i,{default:function(){return T}});var t=a(5893),c=a(1857),s=a.n(c),n=a(8953);a(381);var r=a(1163),l=a(882),o=a.n(l),d=a(4721);let _=e=>(0,t.jsxs)("div",{className:o().card,children:[(0,t.jsxs)("div",{className:o().card_header,children:[(0,t.jsx)("img",{className:o().card_icon,src:e.icon}),(0,t.jsx)("div",{className:o().card_title,children:e.title})]}),(0,t.jsx)("div",{className:o().card_content,children:e.children})]});function v(e){let i=(0,r.useRouter)(),a=e.device||{name:"手持电转仪",image:"/images/demo-device.png",mac:"xx:xx:xx:xx:xx:xx"},c=()=>{console.log("going to: [device detail page]"),i.push("/device_dashboard.html?mac=".concat(a.mac))};return(0,t.jsxs)("div",{className:o().container,children:[(0,t.jsxs)("div",{className:o().header,children:[(0,t.jsxs)("div",{className:o().device_name,children:["名称：",a.name]}),(0,t.jsx)("div",{className:o().icon_list,children:(0,t.jsx)("div",{children:(0,t.jsx)(d.Z,{sx:{color:"#979797"}})})})]}),(0,t.jsxs)("div",{className:o().content,onClick:c,...e,children:[(0,t.jsxs)("div",{className:o().left,children:[" ",(0,t.jsx)("div",{className:o().device_icon,children:(0,t.jsx)("img",{src:a.image})})]}),(0,t.jsxs)("div",{className:o().right,children:[" ",(0,t.jsx)(_,{title:"MAC 地址",icon:"/icon/last_used_wave@3x.png",children:a.mac}),(0,t.jsx)("div",{}),(0,t.jsx)(_,{title:"最近使用日期",icon:"/icon/last_used_time@3x.png",children:"-"}),(0,t.jsx)(_,{title:"最近使用人员",icon:"/icon/last_used_user@3x.png",children:"-"})]})]})]})}var x=a(723),h=a(9008),m=a.n(h),g=a(6514),u=a(3321),j=a(757),p=a.n(j),b=a(7294),f=a(1849),N=a(7851),D=a(646),k=a(657),C=a(1425),Z=a(6580),w=a(8951),A=a(7645);let I=null,y=()=>{let[e,i]=(0,b.useState)(!0),[a,c]=(0,b.useState)(!1),[r,l]=(0,b.useState)(""),[o,d]=(0,b.useState)([]),[_,h]=(0,b.useState)(!1),[j,y]=(0,b.useState)("");(0,b.useEffect)(()=>{i(!1),window&&(window.$pgUpdateDeviceList=e=>{let i=e.device||{},a=o.find(e=>e.mac===i.mac);if(a||(o.push({image:"/icon3/device_list/device_list_device_3.png",...i}),d(o)),e.done){S();let e=0==o.length?"扫描完成，未发现可用设备":"扫描完成，共发现 ".concat(o.length||0," 个可用设备");L(e)}})},[]);let T=()=>{c(!0),l(p().loading),I=setTimeout(()=>{l(p().loading_level2)},5e3),(0,N.t)().then(e=>{201===e.status?console.log("[Device] start searching..."):(e.text().then(e=>{L(e)}),S())})},S=()=>{I&&(clearTimeout(I),I=null),c(!1),l("")},L=e=>{y(e),h(!0)};return(0,t.jsxs)("div",{className:"jsx-d9a551d38a293685",children:[(0,t.jsx)(m(),{children:(0,t.jsx)("title",{className:"jsx-d9a551d38a293685",children:"设备列表 | 柔脉医疗"})}),(0,t.jsx)(n.Z,{title:"设备列表"}),(0,t.jsxs)("main",{className:"jsx-d9a551d38a293685",children:[(0,t.jsx)("div",{onClick:a?S:T,className:"jsx-d9a551d38a293685 "+(p().title||""),children:(0,t.jsxs)("div",{className:"jsx-d9a551d38a293685 "+(p().search_device_icon||""),children:[(0,t.jsx)("span",{style:{marginRight:2},className:"jsx-d9a551d38a293685",children:"可用设备"})," ",(0,t.jsx)(f.Z,{sx:{width:18},className:r})]})}),(0,t.jsx)("div",{className:"jsx-d9a551d38a293685 "+(p().devices||""),children:o.length?(o||[]).map((i,a)=>(0,t.jsx)("div",{className:"jsx-d9a551d38a293685",children:(0,t.jsx)(g.Z,{in:!e,style:{transformOrigin:"0 0 0"},...e?{}:{timeout:1e3},children:(0,t.jsx)("div",{className:"jsx-d9a551d38a293685",children:(0,t.jsx)(v,{device:i},"device-item"+a)})})},"grow-item-"+a)):(0,t.jsx)("div",{style:{width:"100%",padding:"48px 0",textAlign:"center",fontSize:14,color:"gray"},className:"jsx-d9a551d38a293685",children:"- 暂无设备 -"})}),(0,t.jsx)(x.Z,{"large-space":"true"})]}),(0,t.jsx)(D.Z,{}),(0,t.jsxs)(k.Z,{open:_,onClose:()=>h(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,t.jsx)(A.Z,{id:"alert-dialog-title",children:"提示"}),(0,t.jsx)(Z.Z,{children:(0,t.jsx)(w.Z,{id:"alert-dialog-description",children:j})}),(0,t.jsx)(C.Z,{children:(0,t.jsx)(u.Z,{onClick:()=>h(!1),autoFocus:!0,children:"好的"})})]}),(0,t.jsx)(s(),{id:"d9a551d38a293685",children:"main.jsx-d9a551d38a293685{}"})]})};var T=y},3892:function(e){e.exports={appbar:"Appbar_appbar__Djdgg",statusbar:"Appbar_statusbar__TYzED",statusbar_left:"Appbar_statusbar_left__3qMm3",statusbar_left_title:"Appbar_statusbar_left_title__I9Srx",go_back_icon:"Appbar_go_back_icon__ycn_w",icon_list:"Appbar_icon_list__Xuxbs",titlebar:"Appbar_titlebar__AUOzV",left:"Appbar_left__DH4gx",right:"Appbar_right__wqxMv",menu:"Appbar_menu__Rwczv"}},882:function(e){e.exports={container:"DeviceItem_container__0bX6z",header:"DeviceItem_header__UeUwI",device_name:"DeviceItem_device_name__9BeJd",icon_list:"DeviceItem_icon_list__IX3e4",content:"DeviceItem_content__fd5Cf",left:"DeviceItem_left__jav2L",device_icon:"DeviceItem_device_icon__ccN0Z",right:"DeviceItem_right__1BcL_",card:"DeviceItem_card__pp4lX",card_header:"DeviceItem_card_header__3tXph",card_icon:"DeviceItem_card_icon__ZCQbj",card_title:"DeviceItem_card_title__1dxsu",card_content:"DeviceItem_card_content__1HOX7"}},757:function(e){e.exports={title:"DeviceList_title__bIMwQ",devices:"DeviceList_devices__0JAZY",other_devices:"DeviceList_other_devices__yoyO4",search_device_icon:"DeviceList_search_device_icon___CnlB",loading:"DeviceList_loading__OtdNx",rotation:"DeviceList_rotation__JTEjc",loading_level2:"DeviceList_loading_level2__hix4o"}},7246:function(e){e.exports={footer:"Footer_footer__Tl1eP",logo:"Footer_logo__PM82v"}},5469:function(e){e.exports={toolbar:"Toolbar_toolbar__sVihn",tools:"Toolbar_tools__82ALZ",icon:"Toolbar_icon__QC8Eu"}}},function(e){e.O(0,[885,315,382,466,774,888,179],function(){return e(e.s=7872)}),_N_E=e.O()}]);